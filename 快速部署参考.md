# å¿«é€Ÿéƒ¨ç½²å‚è€ƒå¡

## ğŸš€ ä¸€è¡Œå‘½ä»¤éƒ¨ç½²

```bash
# æœ€ç®€å•çš„æ–¹å¼ï¼ˆæ¨èï¼‰
quick_deploy.bat dist\XexunRTT_v2.5.exe

# å¸¦æ›´æ–°è¯´æ˜
quick_deploy.bat dist\XexunRTT_v2.5.exe "ä¿®å¤Bug"
```

---

## ğŸ“‹ å®Œæ•´å·¥ä½œæµç¨‹

### 1. ä¿®æ”¹ç‰ˆæœ¬å·

```python
# version.py
CURRENT_VERSION = "2.5"
```

### 2. ç¼–è¯‘

```bash
pyinstaller XexunRTT_onefile_v2_2.spec
# ç”Ÿæˆ: dist/XexunRTT_v2.5.exe
```

### 3. éƒ¨ç½²

```bash
quick_deploy.bat dist\XexunRTT_v2.5.exe "æ›´æ–°è¯´æ˜"
```

### 4. ä¸Šä¼ 

å°† `updates` ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼š
```
http://sz.xexun.com:18891/uploads/xexunrtt/updates/win/
```

---

## ğŸ”§ è‡ªåŠ¨åŒ–åŠŸèƒ½

- âœ… è‡ªåŠ¨ä»æ–‡ä»¶åæå–ç‰ˆæœ¬å·
- âœ… è‡ªåŠ¨è¯»å– `updates/version.json` å†å²ç‰ˆæœ¬
- âœ… è‡ªåŠ¨ç”Ÿæˆå¢é‡è¡¥ä¸
- âœ… è‡ªåŠ¨æ›´æ–°ç‰ˆæœ¬ä¿¡æ¯
- âœ… è‡ªåŠ¨æ¸…ç†æ—§è¡¥ä¸ï¼ˆä¿ç•™æœ€è¿‘3ä¸ªï¼‰

---

## ğŸ“Š ç”Ÿæˆçš„æ–‡ä»¶

```
updates/
â”œâ”€â”€ XexunRTT_v2.5.exe          (æ–°ç‰ˆæœ¬å®Œæ•´æ–‡ä»¶)
â”œâ”€â”€ patch_2.4_to_2.5.patch     (å¢é‡è¡¥ä¸ï¼ŒèŠ‚çœ90%æµé‡)
â””â”€â”€ version.json                (ç‰ˆæœ¬ä¿¡æ¯)
```

---

## ğŸ’¡ é«˜çº§ç”¨æ³•

```bash
# è‡ªå®šä¹‰è¾“å‡ºç›®å½•
python deploy_update.py dist\XexunRTT_v2.5.exe --output my_updates

# ä¿ç•™æ›´å¤šè¡¥ä¸ï¼ˆé»˜è®¤3ä¸ªï¼‰
python deploy_update.py dist\XexunRTT_v2.5.exe --max-patches 5

# æŸ¥çœ‹å¸®åŠ©
python deploy_update.py --help
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ–‡ä»¶åå¿…é¡»åŒ…å«ç‰ˆæœ¬å·**
   - âœ… `XexunRTT_v2.5.exe`
   - âŒ `XexunRTT.exe`

2. **bsdiff4 å¿…é¡»å®‰è£…**
   ```bash
   pip install bsdiff4
   ```

3. **ä¸Šä¼ æ‰€æœ‰ç”Ÿæˆçš„æ–‡ä»¶**
   - å®Œæ•´ EXE æ–‡ä»¶
   - è¡¥ä¸æ–‡ä»¶
   - version.json

---

## ğŸ¯ å°±æ˜¯è¿™ä¹ˆç®€å•ï¼

ä¹‹å‰éœ€è¦ 10 ä¸ªå‚æ•°çš„å‘½ä»¤ï¼š
```bash
python deploy_update.py --new-version 2.5 --new-file dist/XexunRTT.exe --old-versions dist/old/XexunRTT_2.4.exe ...
```

ç°åœ¨åªéœ€è¦ï¼š
```bash
quick_deploy.bat dist\XexunRTT_v2.5.exe
```

**ç®€åŒ–äº† 90% çš„æ“ä½œï¼** ğŸ‰

