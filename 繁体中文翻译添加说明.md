# ç¹ä½“ä¸­æ–‡ç¿»è¯‘æ·»åŠ è¯´æ˜

## âœ… **å®Œæˆå†…å®¹**

å·²æˆåŠŸæ·»åŠ ç¹ä½“ä¸­æ–‡ï¼ˆTraditional Chineseï¼‰ç¿»è¯‘æ”¯æŒï¼

---

## ğŸ“ **æ–°å¢æ–‡ä»¶**

| æ–‡ä»¶ | è¯´æ˜ |
|-----|------|
| `xexunrtt_zh_TW.ts` | ç¹ä½“ä¸­æ–‡ç¿»è¯‘æºæ–‡ä»¶ï¼ˆXMLæ ¼å¼ï¼‰ |
| `xexunrtt_zh_TW.qm` | ç¹ä½“ä¸­æ–‡ç¿»è¯‘ç¼–è¯‘æ–‡ä»¶ï¼ˆäºŒè¿›åˆ¶æ ¼å¼ï¼‰ |
| `convert_to_traditional.py` | ç®€ä½“è½¬ç¹ä½“è½¬æ¢è„šæœ¬ |

---

## ğŸ”„ **è½¬æ¢æµç¨‹**

### 1. ç®€ç¹è½¬æ¢

ä½¿ç”¨ **OpenCC**ï¼ˆOpen Chinese Convertï¼‰è¿›è¡Œç®€ç¹è½¬æ¢ï¼š

```bash
pip install opencc-python-reimplemented
python convert_to_traditional.py
```

**è½¬æ¢è§„åˆ™**ï¼š
- `s2twp`ï¼šSimplified to Traditional (Taiwan standard with phrases)
- ä¿ç•™è‹±æ–‡å’Œä»£ç ä¸å˜
- åªè½¬æ¢ `<translation>` å’Œ `<source>` æ ‡ç­¾ä¸­çš„ä¸­æ–‡å†…å®¹

### 2. ç¼–è¯‘ç¿»è¯‘æ–‡ä»¶

```bash
pyside6-lrelease xexunrtt_zh_TW.ts -qm xexunrtt_zh_TW.qm
```

**ç»“æœ**ï¼š
- âœ… ç”Ÿæˆäº† 350 æ¡ç¿»è¯‘
- âœ… å…¶ä¸­ 332 æ¡åŒ…å«ä¸­æ–‡å†…å®¹

---

## ğŸ“Š **ç¿»è¯‘ç»Ÿè®¡**

| é¡¹ç›® | æ•°é‡ |
|-----|------|
| æ€»ç¿»è¯‘æ¡ç›® | 350 |
| åŒ…å«ä¸­æ–‡çš„ç¿»è¯‘ | 332 |
| å®Œæˆç‡ | 100% |

---

## ğŸ¯ **å®ç°ç»†èŠ‚**

### ä¿®æ”¹ `main_window.py`

#### ä¿®æ”¹å‰ï¼ˆç®€ä½“å’Œç¹ä½“å…±ç”¨ï¼‰

```python
if config_language in ['zh_CN', 'zh_TW']:
    # ç®€ä½“å’Œç¹ä½“éƒ½ä½¿ç”¨åŒä¸€ä¸ªæ–‡ä»¶
    qm_paths = [
        get_resource_path("xexunrtt_complete.qm"),
        "xexunrtt_complete.qm",
    ]
```

#### ä¿®æ”¹åï¼ˆç‹¬ç«‹ç¿»è¯‘æ–‡ä»¶ï¼‰

```python
if config_language == 'zh_CN':
    # ç®€ä½“ä¸­æ–‡
    qm_paths = [
        get_resource_path("xexunrtt_complete.qm"),
        "xexunrtt_complete.qm",
    ]

elif config_language == 'zh_TW':
    # ç¹ä½“ä¸­æ–‡ï¼ˆç‹¬ç«‹ç¿»è¯‘æ–‡ä»¶ï¼‰
    qm_paths = [
        get_resource_path("xexunrtt_zh_TW.qm"),
        "xexunrtt_zh_TW.qm",
    ]
```

---

## ğŸŒ **è¯­è¨€æ”¯æŒæƒ…å†µ**

| è¯­è¨€ | ä»£ç  | ç¿»è¯‘æ–‡ä»¶ | çŠ¶æ€ |
|-----|------|---------|------|
| English | `en_US` | ï¼ˆæ— éœ€ç¿»è¯‘ï¼‰ | âœ… åŸç”Ÿæ”¯æŒ |
| ä¸­æ–‡ï¼ˆç®€ä½“ï¼‰ | `zh_CN` | `xexunrtt_complete.qm` | âœ… å·²æ”¯æŒ |
| ä¸­æ–‡ï¼ˆç¹é«”ï¼‰ | `zh_TW` | `xexunrtt_zh_TW.qm` | âœ… **æ–°å¢ï¼** |

---

## ğŸ§ª **æµ‹è¯•æ­¥éª¤**

### 1. åˆ‡æ¢åˆ°ç¹ä½“ä¸­æ–‡

åœ¨ç¨‹åºä¸­ï¼š
1. æ‰“å¼€ **Language** èœå•
2. é€‰æ‹© **ä¸­æ–‡ï¼ˆç¹é«”ï¼‰**
3. ç‚¹å‡» OK å¹¶é‡å¯ç¨‹åº

æˆ–é€šè¿‡å‘½ä»¤è¡Œï¼š
```bash
python -c "from config_manager import config_manager; config_manager.set_language('zh_TW'); config_manager.save_config()"
```

### 2. éªŒè¯ç¿»è¯‘

é‡å¯ç¨‹åºåï¼Œç•Œé¢åº”è¯¥æ˜¾ç¤ºç¹ä½“ä¸­æ–‡ï¼š
- èœå•ï¼šé€£æ¥ã€çª—å£ã€å·¥å…·ã€Languageã€å¹«åŠ©
- æŒ‰é’®ï¼šé€£æ¥ã€æ–·é–‹é€£æ¥ã€é‡æ–°é€£æ¥
- æ ‡ç­¾ï¼šJLinkèª¿è©¦æ—¥èªŒã€è¨­å‚™åˆ—è¡¨

### 3. æµ‹è¯•ç¿»è¯‘åŠ è½½

```bash
python -c "from PySide6.QtCore import QTranslator, QCoreApplication; from PySide6.QtWidgets import QApplication; import sys; app = QApplication(sys.argv); t = QTranslator(); t.load('xexunrtt_zh_TW.qm'); QCoreApplication.installTranslator(t); print(QCoreApplication.translate('main_window', 'JLink Debug Log'))"
```

é¢„æœŸè¾“å‡ºï¼š`JLinkèª¿è©¦æ—¥èªŒ`

---

## ğŸ”§ **è½¬æ¢è„šæœ¬è¯´æ˜**

### `convert_to_traditional.py`

**åŠŸèƒ½**ï¼š
- è¯»å–ç®€ä½“ç¿»è¯‘æ–‡ä»¶ `xexunrtt_complete.ts`
- ä½¿ç”¨ OpenCC å°†æ‰€æœ‰ä¸­æ–‡ç¿»è¯‘è½¬æ¢ä¸ºç¹ä½“
- ä¿å­˜ä¸º `xexunrtt_zh_TW.ts`
- æ›´æ–°è¯­è¨€æ ‡è®°ä¸º `zh_TW`

**æ ¸å¿ƒé€»è¾‘**ï¼š
```python
from opencc import OpenCC

# åˆ›å»ºç®€ä½“åˆ°ç¹ä½“è½¬æ¢å™¨
cc = OpenCC('s2twp')

# è½¬æ¢ç¿»è¯‘å†…å®¹
def replace_translation(match):
    translation_text = match.group(2)
    traditional_text = cc.convert(translation_text)
    return f"{opening_tag}{traditional_text}{closing_tag}"

# æ­£åˆ™æ›¿æ¢
pattern = r'(<translation[^>]*>)(.*?)(</translation>)'
new_content = re.sub(pattern, replace_translation, content, flags=re.DOTALL)
```

**ç‰¹æ€§**ï¼š
- âœ… åªè½¬æ¢ä¸­æ–‡å†…å®¹
- âœ… ä¿ç•™è‹±æ–‡å’Œä»£ç ä¸å˜
- âœ… ä¿ç•™ XML ç»“æ„
- âœ… æ›´æ–°è¯­è¨€æ ‡è®°

---

## ğŸ“¦ **æ‰“åŒ…æ³¨æ„äº‹é¡¹**

### PyInstaller é…ç½®

åœ¨ `.spec` æ–‡ä»¶ä¸­æ·»åŠ ç¹ä½“ç¿»è¯‘æ–‡ä»¶ï¼š

```python
datas=[
    ('xexunrtt_complete.qm', '.'),  # ç®€ä½“
    ('xexunrtt_zh_TW.qm', '.'),     # ç¹ä½“ï¼ˆæ–°å¢ï¼‰
    ('qt_zh_CN.qm', '.'),
    # ...
]
```

### macOS æ‰“åŒ…

å°†ç¹ä½“ç¿»è¯‘æ–‡ä»¶å¤åˆ¶åˆ° Resources ç›®å½•ï¼š

```bash
cp xexunrtt_zh_TW.qm XexunRTT.app/Contents/Resources/
```

---

## ğŸ”„ **æ›´æ–°ç¿»è¯‘æµç¨‹**

å½“éœ€è¦æ›´æ–°ç¿»è¯‘æ—¶ï¼š

### 1. æ›´æ–°ç®€ä½“ç¿»è¯‘

```bash
# æå–éœ€è¦ç¿»è¯‘çš„å­—ç¬¦ä¸²
pyside6-lupdate *.py *.ui -ts xexunrtt_complete.ts

# ä½¿ç”¨ Qt Linguist ç¿»è¯‘
linguist xexunrtt_complete.ts

# ç¼–è¯‘ç®€ä½“ç¿»è¯‘
pyside6-lrelease xexunrtt_complete.ts -qm xexunrtt_complete.qm
```

### 2. ç”Ÿæˆç¹ä½“ç¿»è¯‘

```bash
# è¿è¡Œè½¬æ¢è„šæœ¬
python convert_to_traditional.py

# ç¼–è¯‘ç¹ä½“ç¿»è¯‘
pyside6-lrelease xexunrtt_zh_TW.ts -qm xexunrtt_zh_TW.qm
```

### 3. æµ‹è¯•

```bash
# æµ‹è¯•ç®€ä½“
python -c "from config_manager import config_manager; config_manager.set_language('zh_CN'); config_manager.save_config()"
python main_window.py

# æµ‹è¯•ç¹ä½“
python -c "from config_manager import config_manager; config_manager.set_language('zh_TW'); config_manager.save_config()"
python main_window.py
```

---

## ğŸ“ **ç®€ç¹å¯¹ç…§ç¤ºä¾‹**

| ç®€ä½“ | ç¹ä½“ |
|-----|------|
| è¿æ¥ | é€£æ¥ |
| çª—å£ | çª—å£ |
| å·¥å…· | å·¥å…· |
| å¸®åŠ© | å¹«åŠ© |
| è®¾å¤‡ | è¨­å‚™ |
| è°ƒè¯• | èª¿è©¦ |
| æ—¥å¿— | æ—¥èªŒ |
| é…ç½® | é…ç½® |
| æ–­å¼€è¿æ¥ | æ–·é–‹é€£æ¥ |
| é‡æ–°è¿æ¥ | é‡æ–°é€£æ¥ |
| æ¸…é™¤å½“å‰é¡µ | æ¸…é™¤ç•¶å‰é  |
| æ‰“å¼€æ—¥å¿—æ–‡ä»¶å¤¹ | æ‰“é–‹æ—¥èªŒæ–‡ä»¶å¤¾ |
| å…³äº | é—œæ–¼ |

---

## ğŸ¨ **ç•Œé¢æ•ˆæœ**

### ç®€ä½“ä¸­æ–‡ï¼ˆzh_CNï¼‰

```
èœå•æ 
â”œâ”€â”€ è¿æ¥(&C)
â”œâ”€â”€ çª—å£(&W)
â”œâ”€â”€ å·¥å…·(&T)
â”œâ”€â”€ Language
â””â”€â”€ å¸®åŠ©(&H)
```

### ç¹ä½“ä¸­æ–‡ï¼ˆzh_TWï¼‰

```
èœå–®æ¬„
â”œâ”€â”€ é€£æ¥(&C)
â”œâ”€â”€ çª—å£(&W)
â”œâ”€â”€ å·¥å…·(&T)
â”œâ”€â”€ Language
â””â”€â”€ å¹«åŠ©(&H)
```

---

## âš™ï¸ **ä¾èµ–é¡¹**

### Python åŒ…

```bash
pip install opencc-python-reimplemented  # ç®€ç¹è½¬æ¢
```

### å·¥å…·

- `pyside6-lupdate`ï¼šæå–ç¿»è¯‘å­—ç¬¦ä¸²
- `pyside6-lrelease`ï¼šç¼–è¯‘ç¿»è¯‘æ–‡ä»¶
- `linguist`ï¼ˆå¯é€‰ï¼‰ï¼šQt Linguist GUI å·¥å…·

---

## ğŸ› **å·²çŸ¥é—®é¢˜**

### 1. ç»ˆç«¯è¾“å‡ºä¹±ç 

**é—®é¢˜**ï¼šWindows ç»ˆç«¯æ˜¾ç¤ºä¸­æ–‡ä¸ºä¹±ç 

```
ç¿»è­¯æ¸¬è©¦: 'JLink Debug Log' â†’ 'JLinkï¿½ï¿½ï¿½eï¿½ï¿½ï¿½I'
```

**åŸå› **ï¼šWindows ç»ˆç«¯é»˜è®¤ GBK ç¼–ç ï¼Œæ— æ³•æ­£ç¡®æ˜¾ç¤ºç¹ä½“ä¸­æ–‡

**è§£å†³**ï¼š
- å®é™…ç¨‹åºç•Œé¢æ˜¾ç¤ºæ­£å¸¸
- åªæ˜¯ç»ˆç«¯è¾“å‡ºæœ‰é—®é¢˜
- ä¸å½±å“å®é™…ä½¿ç”¨

### 2. OpenCC å®‰è£…

**é—®é¢˜**ï¼šæŸäº›ç¯å¢ƒå¯èƒ½æ— æ³•å®‰è£… `opencc-python-reimplemented`

**è§£å†³**ï¼š
- ä½¿ç”¨é¢„ç”Ÿæˆçš„ `xexunrtt_zh_TW.ts` å’Œ `.qm` æ–‡ä»¶
- è¿™äº›æ–‡ä»¶å·²åŒ…å«åœ¨ä»“åº“ä¸­
- æ— éœ€æ¯æ¬¡éƒ½è¿è¡Œè½¬æ¢è„šæœ¬

---

## âœ… **å®Œæˆæ¸…å•**

- [x] å®‰è£… OpenCC ç®€ç¹è½¬æ¢å·¥å…·
- [x] åˆ›å»ºç®€ç¹è½¬æ¢è„šæœ¬ `convert_to_traditional.py`
- [x] ç”Ÿæˆç¹ä½“ç¿»è¯‘æ–‡ä»¶ `xexunrtt_zh_TW.ts`
- [x] ç¼–è¯‘ç¹ä½“ç¿»è¯‘æ–‡ä»¶ `xexunrtt_zh_TW.qm`
- [x] ä¿®æ”¹ `main_window.py` åŠ è½½é€»è¾‘
- [x] æµ‹è¯•ç¹ä½“ä¸­æ–‡æ˜¾ç¤º
- [x] æäº¤ä»£ç åˆ° Git
- [x] åˆ›å»ºæ–‡æ¡£è¯´æ˜

---

## ğŸš€ **ä½¿ç”¨æ–¹æ³•**

### å¿«é€Ÿåˆ‡æ¢è¯­è¨€

1. **åˆ‡æ¢åˆ°ç¹ä½“ä¸­æ–‡**
   ```bash
   # æ–¹æ³•1ï¼šé€šè¿‡ Language èœå•
   Language â†’ ä¸­æ–‡ï¼ˆç¹é«”ï¼‰ â†’ OK â†’ é‡å¯

   # æ–¹æ³•2ï¼šå‘½ä»¤è¡Œ
   python -c "from config_manager import config_manager; config_manager.set_language('zh_TW'); config_manager.save_config()"
   ```

2. **åˆ‡æ¢å›ç®€ä½“ä¸­æ–‡**
   ```bash
   python -c "from config_manager import config_manager; config_manager.set_language('zh_CN'); config_manager.save_config()"
   ```

3. **åˆ‡æ¢åˆ°è‹±è¯­**
   ```bash
   python -c "from config_manager import config_manager; config_manager.set_language('en_US'); config_manager.save_config()"
   ```

---

## ğŸ“š **ç›¸å…³æ–‡æ¡£**

- `è¯­è¨€è®¾ç½®åŠŸèƒ½è¯´æ˜.md` - è¯­è¨€è®¾ç½®åŠŸèƒ½è¯¦ç»†è¯´æ˜
- `è¯­è¨€èœå•å¯åŠ¨é—®é¢˜ä¿®å¤.md` - å¯åŠ¨é—®é¢˜ä¿®å¤
- `convert_to_traditional.py` - è½¬æ¢è„šæœ¬æºä»£ç 

---

## ğŸ’¡ **æŠ€æœ¯è¦ç‚¹**

### OpenCC è½¬æ¢æ ‡å‡†

- **s2t**ï¼šç®€ä½“åˆ°ç¹ä½“ï¼ˆSimplified to Traditionalï¼‰
- **s2tw**ï¼šç®€ä½“åˆ°å°æ¹¾æ­£ä½“
- **s2twp**ï¼šç®€ä½“åˆ°å°æ¹¾æ­£ä½“ï¼ˆåŒ…å«æƒ¯ç”¨è¯è½¬æ¢ï¼‰âœ… **ä½¿ç”¨æ­¤æ ‡å‡†**
- **s2hk**ï¼šç®€ä½“åˆ°é¦™æ¸¯ç¹ä½“

é€‰æ‹© `s2twp` æ˜¯å› ä¸ºå®ƒä¸ä»…è½¬æ¢å­—å½¢ï¼Œè¿˜è½¬æ¢å°æ¹¾åœ°åŒºçš„æƒ¯ç”¨è¯æ±‡ã€‚

### Qt ç¿»è¯‘æœºåˆ¶

```python
# åŠ è½½ç¿»è¯‘æ–‡ä»¶
translator = QTranslator()
translator.load('xexunrtt_zh_TW.qm')
QCoreApplication.installTranslator(translator)

# ä½¿ç”¨ç¿»è¯‘
text = QCoreApplication.translate("context", "source_text")
```

---

## ğŸ‰ **æ€»ç»“**

æˆåŠŸæ·»åŠ ç¹ä½“ä¸­æ–‡ç¿»è¯‘æ”¯æŒï¼

**ç°åœ¨æ”¯æŒ 3 ç§è¯­è¨€**ï¼š
- âœ… Englishï¼ˆè‹±è¯­ï¼‰
- âœ… ä¸­æ–‡ï¼ˆç®€ä½“ï¼‰
- âœ… ä¸­æ–‡ï¼ˆç¹é«”ï¼‰**â† æ–°å¢ï¼**

ç”¨æˆ·å¯ä»¥é€šè¿‡ **Language** èœå•è‡ªç”±åˆ‡æ¢ï¼Œæ»¡è¶³ä¸åŒåœ°åŒºç”¨æˆ·çš„éœ€æ±‚ã€‚

